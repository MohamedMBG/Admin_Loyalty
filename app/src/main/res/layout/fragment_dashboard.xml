<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="?android:attr/colorBackground">

    <ScrollView
        android:id="@+id/scrollView"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:clipToPadding="false"
        android:fillViewport="true"
        android:scrollbars="none"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintTop_toTopOf="parent">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:id="@+id/layoutContent"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="40dp">


            <!-- 1. ENHANCED HEADER -->
            <View
                android:id="@+id/viewHeaderBg"
                android:layout_width="match_parent"
                android:layout_height="260dp"
                android:background="@drawable/bg_header_gradient"
                app:layout_constraintTop_toTopOf="parent" />

            <!-- Toolbar Area -->
            <ImageView
                android:id="@+id/btnMenu"
                android:layout_width="48dp"
                android:layout_height="48dp"
                android:layout_marginStart="16dp"
                android:layout_marginTop="32dp"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:padding="12dp"
                android:src="@android:drawable/ic_menu_sort_by_size"
                app:tint="#FFFFFF"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent" />

            <LinearLayout
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginEnd="16dp"
                android:layout_marginTop="32dp"
                android:orientation="horizontal"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toTopOf="parent">

                <ImageView
                    android:id="@+id/btnExport"
                    android:layout_width="48dp"
                    android:layout_height="48dp"
                    android:layout_marginEnd="4dp"
                    android:background="?attr/selectableItemBackgroundBorderless"
                    android:padding="12dp"
                    android:src="@android:drawable/ic_menu_save"
                    app:tint="#FFFFFF"
                    android:tooltipText="Export Data"/>

                <ImageView
                    android:id="@+id/btnNotifications"
                    android:layout_width="48dp"
                    android:layout_height="48dp"
                    android:layout_marginEnd="4dp"
                    android:background="?attr/selectableItemBackgroundBorderless"
                    android:padding="12dp"
                    android:src="@android:drawable/ic_popup_reminder"
                    app:tint="#D8FFFFFF" />

                <!-- NEW LOGOUT BUTTON -->
                <ImageView
                    android:id="@+id/btnLogout"
                    android:layout_width="48dp"
                    android:layout_height="48dp"
                    android:background="?attr/selectableItemBackgroundBorderless"
                    android:padding="12dp"
                    android:src="@android:drawable/ic_lock_power_off"
                    app:tint="#FF1111"
                    android:tooltipText="Log Out"/>
            </LinearLayout>

            <!-- Dashboard Title -->
            <TextView
                android:id="@+id/tvWelcome"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="24dp"
                android:layout_marginTop="8dp"
                android:text="Admin Overview"
                android:textColor="#B3FFFFFF"
                android:textSize="14sp"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@id/btnMenu" />

            <TextView
                android:id="@+id/tvAdminName"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Business Insights"
                android:textColor="#FFFFFF"
                android:textSize="28sp"
                android:textStyle="bold"
                app:layout_constraintStart_toStartOf="@id/tvWelcome"
                app:layout_constraintTop_toBottomOf="@id/tvWelcome" />

            <!-- 2. DATE FILTER -->
            <HorizontalScrollView
                android:id="@+id/filterScroll"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="10dp"
                android:paddingStart="24dp"
                android:paddingEnd="24dp"
                android:scrollbars="none"
                app:layout_constraintTop_toBottomOf="@id/tvAdminName">

                <com.google.android.material.chip.ChipGroup
                    android:id="@+id/chipGroupPeriod"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    app:singleSelection="true"
                    app:selectionRequired="true">

                    <com.google.android.material.chip.Chip
                        android:id="@+id/chipToday"
                        style="@style/Widget.MaterialComponents.Chip.Choice"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Today"
                        android:checked="true"
                        android:textColor="?android:attr/textColorPrimary"
                        app:chipBackgroundColor="#30FFFFFF"
                        app:chipStrokeColor="#00000000" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/chipWeek"
                        style="@style/Widget.MaterialComponents.Chip.Choice"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Week"
                        android:textColor="?android:attr/textColorPrimary"
                        app:chipBackgroundColor="#15FFFFFF"
                        app:chipStrokeColor="#00000000" />

                    <com.google.android.material.chip.Chip
                        android:id="@+id/chipMonth"
                        style="@style/Widget.MaterialComponents.Chip.Choice"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Month"
                        android:textColor="?android:attr/textColorPrimary"
                        app:chipBackgroundColor="#15FFFFFF"
                        app:chipStrokeColor="#00000000" />

                </com.google.android.material.chip.ChipGroup>
            </HorizontalScrollView>

            <!-- 3. QUICK ACTIONS ROW (New Placement) -->
            <!-- Floating centrally over the header/body transition -->

            <HorizontalScrollView
                android:id="@+id/scrollActions"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="10dp"
                android:clipToPadding="false"
                android:paddingStart="16dp"
                android:paddingEnd="16dp"
                android:scrollbars="none"
                app:layout_constraintTop_toBottomOf="@id/filterScroll">

                <LinearLayout
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal">

                    <!-- Action: Scans -->
                    <com.google.android.material.card.MaterialCardView
                        android:id="@+id/btnActionScans"
                        android:layout_width="100dp"
                        android:layout_height="90dp"
                        android:layout_margin="6dp"
                        app:cardBackgroundColor="?attr/colorSurface"
                        app:cardCornerRadius="16dp"
                        app:cardElevation="4dp"
                        android:clickable="true"
                        android:focusable="true"
                        android:foreground="?attr/selectableItemBackground">
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:gravity="center"
                            android:orientation="vertical">
                            <ImageView
                                android:layout_width="28dp" android:layout_height="28dp"
                                android:src="@android:drawable/ic_menu_camera"
                                app:tint="#534AFF"/>
                            <TextView
                                android:layout_width="wrap_content" android:layout_height="wrap_content"
                                android:text="Orders" android:textColor="#534AFF" android:textStyle="bold"
                                android:layout_marginTop="8dp"/>
                        </LinearLayout>
                    </com.google.android.material.card.MaterialCardView>

                    <!-- Action: Clients -->
                    <com.google.android.material.card.MaterialCardView
                        android:id="@+id/btnActionView"
                        android:layout_width="100dp"
                        android:layout_height="90dp"
                        android:layout_margin="6dp"
                        app:cardBackgroundColor="?attr/colorSurface"
                        app:cardCornerRadius="16dp"
                        app:cardElevation="4dp"
                        android:clickable="true"
                        android:focusable="true"
                        android:foreground="?attr/selectableItemBackground">
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:gravity="center"
                            android:orientation="vertical">
                            <ImageView
                                android:layout_width="28dp" android:layout_height="28dp"
                                android:src="@android:drawable/ic_menu_myplaces"
                                app:tint="#0F00FF"/>
                            <TextView
                                android:layout_width="wrap_content" android:layout_height="wrap_content"
                                android:text="Clients" android:textColor="#0F00FF" android:textStyle="bold"
                                android:layout_marginTop="8dp"/>
                        </LinearLayout>
                    </com.google.android.material.card.MaterialCardView>

                    <!-- Action: Redemptions (History) -->
                    <com.google.android.material.card.MaterialCardView
                        android:id="@+id/btnActionRedemptions"
                        android:layout_width="100dp"
                        android:layout_height="90dp"
                        android:layout_margin="6dp"
                        app:cardBackgroundColor="?attr/colorSurface"
                        app:cardCornerRadius="16dp"
                        app:cardElevation="4dp"
                        android:clickable="true"
                        android:focusable="true"
                        android:foreground="?attr/selectableItemBackground">
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:gravity="center"
                            android:orientation="vertical">
                            <ImageView android:layout_width="28dp" android:layout_height="28dp" android:src="@android:drawable/ic_menu_agenda" app:tint="#7C3AED"/>
                            <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Rewards" android:textColor="#7C3AED" android:textStyle="bold" android:layout_marginTop="8dp"/>
                        </LinearLayout>
                    </com.google.android.material.card.MaterialCardView>

                    <!-- NEW: ADD GIFT ACTION -->
                    <com.google.android.material.card.MaterialCardView
                        android:id="@+id/btnActionAddGift"
                        android:layout_width="100dp"
                        android:layout_height="90dp"
                        android:layout_margin="6dp"
                        app:cardBackgroundColor="?attr/colorSurface"
                        app:cardCornerRadius="16dp"
                        app:cardElevation="4dp"
                        android:clickable="true"
                        android:focusable="true"
                        android:foreground="?attr/selectableItemBackground">
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:gravity="center"
                            android:orientation="vertical">
                            <ImageView
                                android:layout_width="28dp"
                                android:layout_height="28dp"
                                android:src="@android:drawable/ic_input_add"
                                app:tint="#DB2777"/>
                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="New Gift"
                                android:textColor="#DB2777"
                                android:textStyle="bold"
                                android:layout_marginTop="8dp"/>
                        </LinearLayout>
                    </com.google.android.material.card.MaterialCardView>

                    <!-- Action: Clients/Users -->
                    <com.google.android.material.card.MaterialCardView
                        android:id="@+id/btnActionClients"
                        android:layout_width="100dp"
                        android:layout_height="90dp"
                        android:layout_margin="6dp"
                        app:cardBackgroundColor="?attr/colorSurface"
                        app:cardCornerRadius="16dp"
                        app:cardElevation="4dp"
                        android:clickable="true"
                        android:focusable="true"
                        android:foreground="?attr/selectableItemBackground">
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:gravity="center"
                            android:orientation="vertical">
                            <ImageView
                                android:layout_width="28dp" android:layout_height="28dp"
                                android:src="@android:drawable/ic_menu_manage" app:tint="#059669"/>
                            <TextView
                                android:layout_width="wrap_content" android:layout_height="wrap_content"
                                android:text="@string/staff" android:textColor="#059669" android:textStyle="bold"
                                android:layout_marginTop="8dp"/>
                        </LinearLayout>
                    </com.google.android.material.card.MaterialCardView>

                    <!-- Action: Export -->
                    <com.google.android.material.card.MaterialCardView
                        android:id="@+id/btnActionExport"
                        android:layout_width="100dp"
                        android:layout_height="90dp"
                        android:layout_margin="6dp"
                        app:cardBackgroundColor="?attr/colorSurface"
                        app:cardCornerRadius="16dp"
                        app:cardElevation="4dp"
                        android:clickable="true"
                        android:focusable="true"
                        android:foreground="?attr/selectableItemBackground">
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:gravity="center"
                            android:orientation="vertical">
                            <ImageView android:layout_width="28dp" android:layout_height="28dp" android:src="@android:drawable/ic_menu_save" app:tint="#EA580C"/>
                            <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Export" android:textColor="#EA580C" android:textStyle="bold" android:layout_marginTop="8dp"/>
                        </LinearLayout>
                    </com.google.android.material.card.MaterialCardView>

                </LinearLayout>
            </HorizontalScrollView>

            <!-- 3. ALERT BANNER -->
            <androidx.cardview.widget.CardView
                android:id="@+id/cardAlert"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="24dp"
                android:layout_marginTop="10dp"
                android:visibility="gone"
                app:cardBackgroundColor="#FEF2F2"
                app:cardCornerRadius="12dp"
                app:cardElevation="4dp"
                app:layout_constraintTop_toBottomOf="@id/scrollActions">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:padding="12dp"
                    android:gravity="center_vertical">

                    <ImageView
                        android:layout_width="20dp"
                        android:layout_height="20dp"
                        android:src="@android:drawable/stat_notify_error"
                        app:tint="#DC2626"/>

                    <TextView
                        android:id="@+id/tvAlertMessage"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:layout_marginStart="12dp"
                        android:text="Alert: Suspicious scanning detected"
                        android:textColor="#B91C1C"
                        android:textSize="12sp"
                        android:textStyle="bold"/>
                </LinearLayout>
            </androidx.cardview.widget.CardView>

            <!-- 4. KEY METRICS GRID -->
            <GridLayout
                android:id="@+id/gridMetrics"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="10dp"
                android:layout_marginTop="12dp"
                android:columnCount="1"
                android:rowCount="3"
                app:layout_constraintTop_toBottomOf="@id/cardAlert">

                <!-- 1. Revenue -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_columnWeight="1"
                    android:layout_margin="8dp"
                    app:cardBackgroundColor="?attr/colorSurface"
                    app:cardCornerRadius="16dp"
                    app:cardElevation="4dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="16dp">
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal">
                            <ImageView android:layout_width="20dp" android:layout_height="20dp" android:src="@android:drawable/ic_menu_rotate" app:tint="#10B981"/>
                            <Space android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1"/>
                            <TextView android:id="@+id/tvRevenueDelta" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="--%" android:textColor="#10B981" android:textSize="11sp" android:textStyle="bold"/>
                        </LinearLayout>
                        <TextView
                            android:id="@+id/tvRevenueValue"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="--"
                            android:textColor="?android:attr/textColorPrimary"
                            android:textSize="26sp"
                            android:layout_gravity="center_horizontal"
                            android:textStyle="bold"
                            android:layout_marginTop="8dp"/>
                        <TextView android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Total Revenue (MAD)"
                            android:textColor="?android:attr/textColorSecondary"
                            android:textStyle="bold"
                            android:layout_gravity="center_horizontal"
                            android:textSize="12sp"/>
                    </LinearLayout>
                </com.google.android.material.card.MaterialCardView>


                <!-- 5. Points Issued -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_columnWeight="1"
                    android:layout_margin="8dp"
                    app:cardBackgroundColor="?attr/colorSurface"
                    android:foreground="?attr/selectableItemBackground"
                    app:cardCornerRadius="16dp"
                    app:cardElevation="4dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="16dp">
                        <ImageView android:layout_width="20dp" android:layout_height="20dp" android:src="@android:drawable/btn_star_big_on" app:tint="#F59E0B"/>
                        <TextView
                            android:id="@+id/tvPointsValue"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="--"
                            android:textColor="?android:attr/textColorPrimary"
                            android:textSize="26sp"
                            android:textStyle="bold"
                            android:layout_gravity="center_horizontal"
                            android:layout_marginTop="8dp"/>
                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_gravity="center_horizontal"
                            android:textStyle="bold"
                            android:layout_height="wrap_content" android:text="Points Issued" android:textColor="?android:attr/textColorSecondary" android:textSize="12sp"/>
                    </LinearLayout>
                </com.google.android.material.card.MaterialCardView>


                <!-- 3. Visits -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_columnWeight="1"
                    android:layout_margin="8dp"
                    app:cardBackgroundColor="?attr/colorSurface"
                    app:cardCornerRadius="16dp"
                    app:cardElevation="4dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="16dp">
                        <ImageView android:layout_width="20dp" android:layout_height="20dp" android:src="@android:drawable/ic_menu_myplaces" app:tint="#4F46E5"/>
                        <TextView
                            android:id="@+id/tvVisitsValue" android:layout_width="wrap_content"
                            android:layout_height="wrap_content" android:text="--"
                            android:textColor="?android:attr/textColorPrimary" android:textSize="26sp"
                            android:textStyle="bold" android:layout_marginTop="8dp"
                            android:layout_gravity="center_horizontal"/>
                        <TextView android:layout_width="wrap_content"
                            android:layout_gravity="center_horizontal"
                            android:layout_height="wrap_content" android:text="Store Visits"
                            android:textColor="?android:attr/textColorSecondary" android:textSize="12sp"
                            android:textStyle="bold"/>
                    </LinearLayout>
                </com.google.android.material.card.MaterialCardView>

                <!-- 4. New Clients -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_columnWeight="1"
                    android:layout_margin="8dp"
                    app:cardBackgroundColor="?attr/colorSurface"
                    app:cardCornerRadius="16dp"
                    app:cardElevation="4dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="16dp">
                        <ImageView android:layout_width="20dp" android:layout_height="20dp" android:src="@android:drawable/ic_menu_add" app:tint="#0284C7"/>
                        <TextView
                            android:id="@+id/tvNewClientsValue" android:layout_width="wrap_content"
                            android:layout_height="wrap_content" android:text="--"
                            android:textColor="?android:attr/textColorPrimary" android:textSize="26sp"
                            android:textStyle="bold" android:layout_marginTop="8dp"
                            android:layout_gravity="center_horizontal"/>
                        <TextView
                            android:layout_width="wrap_content" android:layout_height="wrap_content"
                            android:text="New Clients" android:textColor="?android:attr/textColorSecondary"
                            android:textSize="12sp" android:layout_gravity="center_horizontal"
                            android:textStyle="bold"/>
                    </LinearLayout>
                </com.google.android.material.card.MaterialCardView>

                <!-- 6. Gifts Redeemed -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_columnWeight="1"
                    android:layout_margin="8dp"
                    app:cardBackgroundColor="?attr/colorSurface"
                    app:cardCornerRadius="16dp"
                    app:cardElevation="4dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="16dp">
                        <ImageView
                            android:layout_width="20dp" android:layout_height="20dp"
                            android:src="@android:drawable/ic_menu_send" app:tint="#9333EA"/>
                        <TextView
                            android:id="@+id/tvGiftsValue" android:layout_width="wrap_content"
                            android:layout_height="wrap_content" android:text="--"
                            android:textColor="?android:attr/textColorPrimary" android:textSize="26sp"
                            android:textStyle="bold" android:layout_marginTop="8dp"
                            android:layout_gravity="center_horizontal"/>
                        <TextView
                            android:layout_width="wrap_content" android:layout_height="wrap_content"
                            android:text="Gifts Redeemed" android:textColor="?android:attr/textColorSecondary"
                            android:textSize="12sp" android:layout_gravity="center_horizontal" android:textStyle="bold"/>
                    </LinearLayout>

                </com.google.android.material.card.MaterialCardView>


                <!-- 2. Reward Costs -->
                <com.google.android.material.card.MaterialCardView
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_columnWeight="1"
                    android:layout_margin="8dp"
                    app:cardBackgroundColor="?attr/colorSurface"
                    app:cardCornerRadius="16dp"
                    app:cardElevation="4dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="16dp">
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal">
                            <ImageView android:layout_width="20dp" android:layout_height="20dp" android:src="@android:drawable/ic_menu_sort_by_size" app:tint="#EF4444"/>
                            <Space android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1"/>
                        </LinearLayout>
                        <TextView
                            android:id="@+id/tvRewardCostValue" android:layout_width="wrap_content"
                            android:layout_height="wrap_content" android:text="--"
                            android:textColor="#EF4444" android:textSize="26sp"
                            android:textStyle="bold" android:layout_marginTop="8dp"
                            android:layout_gravity="center_horizontal"/>
                        <TextView
                            android:layout_width="wrap_content" android:layout_height="wrap_content"
                            android:text="Reward Costs (MAD)" android:textColor="?android:attr/textColorSecondary"
                            android:textSize="12sp" android:layout_gravity="center_horizontal"
                            android:textStyle="bold"/>
                    </LinearLayout>
                </com.google.android.material.card.MaterialCardView>

            </GridLayout>

            <!-- 5. TRAFFIC TRENDS CHART -->
            <TextView
                android:id="@+id/labelChart"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="24dp"
                android:layout_marginTop="24dp"
                android:text="Traffic Trends (Visits)"
                android:textColor="?android:attr/textColorPrimary"
                android:textSize="18sp"
                android:textStyle="bold"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@id/gridMetrics" />

            <androidx.cardview.widget.CardView
                android:id="@+id/cardChart"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="10dp"
                android:layout_marginTop="12dp"
                app:cardBackgroundColor="?attr/colorSurface"
                app:cardCornerRadius="16dp"
                app:cardElevation="2dp"
                app:layout_constraintTop_toBottomOf="@id/labelChart">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="220dp"
                        android:gravity="bottom"
                        android:orientation="horizontal">

                        <!-- Bar 1 -->
                        <LinearLayout
                            android:layout_width="0dp" android:layout_height="wrap_content"
                            android:layout_weight="1" android:gravity="center_horizontal"
                            android:orientation="vertical">
                            <TextView
                                android:id="@+id/tvChartVal1" android:layout_width="wrap_content"
                                android:layout_height="wrap_content" android:text="-"
                                android:textSize="18sp" android:textStyle="bold"
                                android:textColor="?android:attr/textColorSecondary"
                                android:layout_marginBottom="6dp"/>
                            <View
                                android:id="@+id/viewChartBar1" android:layout_width="16dp"
                                android:layout_height="30dp" android:background="@drawable/bg_header_gradient"
                                android:backgroundTint="#80C7D2FE"/>
                        </LinearLayout>

                        <!-- Bar 2 -->
                        <LinearLayout android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center_horizontal" android:orientation="vertical">
                            <TextView android:id="@+id/tvChartVal2" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="-" android:textSize="18sp" android:textStyle="bold" android:textColor="?android:attr/textColorSecondary" android:layout_marginBottom="6dp"/>
                            <View android:id="@+id/viewChartBar2" android:layout_width="16dp" android:layout_height="30dp" android:background="@drawable/bg_header_gradient" android:backgroundTint="#80C7D2FE"/>
                        </LinearLayout>

                        <!-- Bar 3 -->
                        <LinearLayout android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center_horizontal" android:orientation="vertical">
                            <TextView android:id="@+id/tvChartVal3" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="-" android:textSize="18sp" android:textStyle="bold" android:textColor="?android:attr/textColorSecondary" android:layout_marginBottom="6dp"/>
                            <View android:id="@+id/viewChartBar3" android:layout_width="16dp" android:layout_height="30dp" android:background="@drawable/bg_header_gradient" android:backgroundTint="#80C7D2FE"/>
                        </LinearLayout>

                        <!-- Bar 4 -->
                        <LinearLayout android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center_horizontal" android:orientation="vertical">
                            <TextView android:id="@+id/tvChartVal4" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="-" android:textSize="18sp" android:textStyle="bold" android:textColor="?android:attr/textColorSecondary" android:layout_marginBottom="6dp"/>
                            <View android:id="@+id/viewChartBar4" android:layout_width="16dp" android:layout_height="30dp" android:background="@drawable/bg_header_gradient" android:backgroundTint="#80C7D2FE"/>
                        </LinearLayout>

                        <!-- Bar 5 -->
                        <LinearLayout android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center_horizontal" android:orientation="vertical">
                            <TextView android:id="@+id/tvChartVal5" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="-" android:textSize="18sp" android:textStyle="bold" android:textColor="?android:attr/textColorSecondary" android:layout_marginBottom="6dp"/>
                            <View android:id="@+id/viewChartBar5" android:layout_width="16dp" android:layout_height="30dp" android:background="@drawable/bg_header_gradient" android:backgroundTint="#80C7D2FE"/>
                        </LinearLayout>

                        <!-- Bar 6 -->
                        <LinearLayout android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center_horizontal" android:orientation="vertical">
                            <TextView android:id="@+id/tvChartVal6" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="-" android:textSize="18sp" android:textStyle="bold" android:textColor="?android:attr/textColorSecondary" android:layout_marginBottom="6dp"/>
                            <View android:id="@+id/viewChartBar6" android:layout_width="16dp" android:layout_height="30dp" android:background="@drawable/bg_header_gradient" android:backgroundTint="#80C7D2FE"/>
                        </LinearLayout>

                        <!-- Bar 7 -->
                        <LinearLayout android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center_horizontal" android:orientation="vertical">
                            <TextView android:id="@+id/tvChartVal7" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="-" android:textSize="18sp" android:textStyle="bold" android:textColor="?android:attr/textColorSecondary" android:layout_marginBottom="6dp"/>
                            <View android:id="@+id/viewChartBar7" android:layout_width="16dp" android:layout_height="30dp" android:background="@drawable/bg_header_gradient" android:backgroundTint="#80C7D2FE"/>
                        </LinearLayout>
                    </LinearLayout>

                    <!-- X-Axis Labels -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="12dp"
                        android:orientation="horizontal">
                        <TextView android:id="@+id/tvLabel1" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center" android:text="M" android:textSize="12sp" android:textColor="?android:attr/textColorSecondary"/>
                        <TextView android:id="@+id/tvLabel2" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center" android:text="T" android:textSize="12sp" android:textColor="?android:attr/textColorSecondary"/>
                        <TextView android:id="@+id/tvLabel3" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center" android:text="W" android:textSize="12sp" android:textColor="?android:attr/textColorSecondary"/>
                        <TextView android:id="@+id/tvLabel4" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center" android:text="T" android:textSize="12sp" android:textColor="?android:attr/textColorSecondary"/>
                        <TextView android:id="@+id/tvLabel5" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center" android:text="F" android:textSize="12sp" android:textColor="?android:attr/textColorSecondary"/>
                        <TextView android:id="@+id/tvLabel6" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center" android:text="S" android:textSize="12sp" android:textColor="?android:attr/textColorSecondary"/>
                        <TextView android:id="@+id/tvLabel7" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center" android:text="S" android:textSize="12sp" android:textColor="?android:attr/textColorSecondary"/>
                    </LinearLayout>
                </LinearLayout>
            </androidx.cardview.widget.CardView>



            <!-- 6. STAFF PERFORMANCE (Enhanced UI) -->
            <TextView
                android:id="@+id/labelCashier"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="24dp"
                android:layout_marginTop="24dp"
                android:text="Staff Performance"
                android:textColor="?android:attr/textColorPrimary"
                android:textSize="18sp"
                android:textStyle="bold"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@id/cardChart" />

            <androidx.cardview.widget.CardView
                android:id="@+id/cardCashiers"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="10dp"
                android:layout_marginTop="12dp"
                app:cardBackgroundColor="?attr/colorSurface"
                app:cardCornerRadius="16dp"
                android:layout_marginBottom="20dp"
                app:cardElevation="4dp"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintTop_toBottomOf="@id/labelCashier"
                tools:layout_editor_absoluteX="10dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="1dp">


                    <!-- Header Row -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="8dp"
                        android:background="?android:attr/colorBackground"
                        android:gravity="center_vertical"
                        android:orientation="horizontal"
                        android:paddingHorizontal="2dp"
                        android:paddingVertical="12dp">

                        <!-- Rank -->
                        <TextView
                            android:layout_width="36dp"
                            android:layout_height="wrap_content"
                            android:gravity="center"
                            android:text="#"
                            android:textColor="?android:attr/textColorSecondary"
                            android:textSize="11sp"
                            android:textStyle="bold" />

                        <!-- Cashier Info -->
                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_marginStart="8dp"
                            android:layout_weight="1"
                            android:text="CASHIER"
                            android:textColor="?android:attr/textColorSecondary"
                            android:textSize="11sp"
                            android:textStyle="bold" />

                        <!-- Scans -->
                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:gravity="center"
                            android:text="SCANS"
                            android:textColor="#10B981"
                            android:textSize="11sp"
                            android:textStyle="bold" />

                        <!-- Redeems -->
                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:gravity="center"
                            android:text="REDEEMS"
                            android:textColor="#7C3AED"
                            android:textSize="11sp"
                            android:textStyle="bold" />

                        <!-- Total -->
                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:gravity="center"
                            android:text="TOTAL"
                            android:textColor="?android:attr/textColorSecondary"
                            android:textSize="11sp"
                            android:textStyle="bold" />

                        <!-- Performance Indicator -->
                        <TextView
                            android:layout_width="48dp"
                            android:layout_height="wrap_content"
                            android:gravity="center"
                            android:text="STATUS"
                            android:textColor="?android:attr/textColorSecondary"
                            android:textSize="10sp"
                            android:textStyle="bold" />
                    </LinearLayout>

                    <!-- Dynamic rows container -->
                    <LinearLayout
                        android:id="@+id/layoutCashierList"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginVertical="5dp"
                        android:orientation="vertical">

                        <!-- Remove or keep hidden the example row -->
                        <include
                            android:id="@+id/exampleRow"
                            layout="@layout/item_cashier_performance"
                            android:visibility="visible" />

                    </LinearLayout>

                    <!-- Empty State -->
                    <LinearLayout
                        android:id="@+id/layoutEmptyState"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:gravity="center"
                        android:orientation="vertical"
                        android:padding="40dp"
                        android:visibility="gone">

                        <ImageView
                            android:layout_width="64dp"
                            android:layout_height="64dp"
                            android:layout_marginBottom="16dp"
                            android:src="@android:drawable/ic_menu_myplaces"
                            app:tint="?android:attr/textColorSecondary" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_marginBottom="8dp"
                            android:text="No staff data for this period"
                            android:textColor="?android:attr/textColorSecondary"
                            android:textSize="14sp" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:gravity="center"
                            android:text="Staff performance will appear here once activities are recorded"
                            android:textColor="?android:attr/textColorSecondary"
                            android:textSize="12sp" />
                    </LinearLayout>

                    <!-- View All Button -->
                    <com.google.android.material.button.MaterialButton
                        android:id="@+id/btnViewAllCashiers"
                        style="@style/Widget.MaterialComponents.Button.OutlinedButton"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="16dp"
                        android:letterSpacing="0.05"
                        android:text="VIEW ALL STAFF"
                        android:textSize="12sp"
                        android:textStyle="bold"
                        android:visibility="gone"
                        app:cornerRadius="12dp"
                        app:strokeColor="?android:attr/textColorSecondary"
                        app:strokeWidth="1dp" />
                </LinearLayout>
            </androidx.cardview.widget.CardView>

            <!-- 7. ADMIN TOOLS GRID
            <TextView
                android:id="@+id/labelControls"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="24dp"
                android:layout_marginTop="24dp"
                android:text="Quick Actions"
                android:textColor="?android:attr/textColorPrimary"
                android:textSize="18sp"
                android:textStyle="bold"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@id/cardCashiers" />

            <GridLayout
                android:id="@+id/gridActions"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="16dp"
                android:layout_marginTop="12dp"
                android:columnCount="3"
                android:rowCount="2"
                app:layout_constraintTop_toBottomOf="@id/labelControls">

                <androidx.cardview.widget.CardView
                    android:id="@+id/btnActionClients"
                    android:layout_width="0dp"
                    android:layout_height="80dp"
                    android:layout_columnWeight="1"
                    android:layout_margin="4dp"
                    app:cardBackgroundColor="#EEF2FF"
                    app:cardCornerRadius="12dp"
                    app:cardElevation="0dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:gravity="center"
                        android:orientation="vertical">
                        <ImageView android:layout_width="24dp" android:layout_height="24dp" android:src="@android:drawable/ic_menu_myplaces" app:tint="#4F46E5"/>
                        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Clients" android:textColor="#4F46E5" android:textStyle="bold" android:textSize="11sp" android:layout_marginTop="4dp"/>
                    </LinearLayout>
                </androidx.cardview.widget.CardView>

                <androidx.cardview.widget.CardView
                    android:id="@+id/btnActionScans"
                    android:layout_width="0dp"
                    android:layout_height="80dp"
                    android:layout_columnWeight="1"
                    android:layout_margin="4dp"
                    app:cardBackgroundColor="#ECFDF5"
                    app:cardCornerRadius="12dp"
                    app:cardElevation="0dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:gravity="center"
                        android:orientation="vertical">
                        <ImageView android:layout_width="24dp" android:layout_height="24dp" android:src="@android:drawable/ic_menu_camera" app:tint="#059669"/>
                        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="All Scans" android:textColor="#059669" android:textStyle="bold" android:textSize="11sp" android:layout_marginTop="4dp"/>
                    </LinearLayout>
                </androidx.cardview.widget.CardView>

                <androidx.cardview.widget.CardView
                    android:id="@+id/btnActionRedemptions"
                    android:layout_width="0dp"
                    android:layout_height="80dp"
                    android:layout_columnWeight="1"
                    android:layout_margin="4dp"
                    app:cardBackgroundColor="#F3E8FF"
                    app:cardCornerRadius="12dp"
                    app:cardElevation="0dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:gravity="center"
                        android:orientation="vertical">
                        <ImageView android:layout_width="24dp" android:layout_height="24dp" android:src="@android:drawable/ic_menu_agenda" app:tint="#7C3AED"/>
                        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Redemptions" android:textColor="#7C3AED" android:textStyle="bold" android:textSize="11sp" android:layout_marginTop="4dp"/>
                    </LinearLayout>
                </androidx.cardview.widget.CardView>

                <androidx.cardview.widget.CardView
                    android:id="@+id/btnActionCashiers"
                    android:layout_width="0dp"
                    android:layout_height="80dp"
                    android:layout_columnWeight="1"
                    android:layout_margin="4dp"
                    app:cardBackgroundColor="#FFF7ED"
                    app:cardCornerRadius="12dp"
                    app:cardElevation="0dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:gravity="center"
                        android:orientation="vertical">
                        <ImageView android:layout_width="24dp" android:layout_height="24dp" android:src="@android:drawable/ic_menu_gallery" app:tint="#EA580C"/>
                        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Cashiers" android:textColor="#EA580C" android:textStyle="bold" android:textSize="11sp" android:layout_marginTop="4dp"/>
                    </LinearLayout>
                </androidx.cardview.widget.CardView>

                <androidx.cardview.widget.CardView
                    android:id="@+id/btnActionExport"
                    android:layout_width="0dp"
                    android:layout_height="80dp"
                    android:layout_columnWeight="1"
                    android:layout_margin="4dp"
                    app:cardBackgroundColor="#F1F5F9"
                    app:cardCornerRadius="12dp"
                    app:cardElevation="0dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:gravity="center"
                        android:orientation="vertical">
                        <ImageView android:layout_width="24dp" android:layout_height="24dp" android:src="@android:drawable/ic_menu_save" app:tint="#475569"/>
                        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Export CSV" android:textColor="#475569" android:textStyle="bold" android:textSize="11sp" android:layout_marginTop="4dp"/>
                    </LinearLayout>
                </androidx.cardview.widget.CardView>

                <androidx.cardview.widget.CardView
                    android:id="@+id/btnActionSettings"
                    android:layout_width="0dp"
                    android:layout_height="80dp"
                    android:layout_columnWeight="1"
                    android:layout_margin="4dp"
                    app:cardBackgroundColor="#F1F5F9"
                    app:cardCornerRadius="12dp"
                    app:cardElevation="0dp">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:gravity="center"
                        android:orientation="vertical">
                        <ImageView android:layout_width="24dp" android:layout_height="24dp" android:src="@android:drawable/ic_menu_manage" app:tint="#475569"/>
                        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Settings" android:textColor="#475569" android:textStyle="bold" android:textSize="11sp" android:layout_marginTop="4dp"/>
                    </LinearLayout>
                </androidx.cardview.widget.CardView>

            </GridLayout>
-->
        </androidx.constraintlayout.widget.ConstraintLayout>
    </ScrollView>
</androidx.constraintlayout.widget.ConstraintLayout>